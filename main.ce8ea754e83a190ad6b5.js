(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,r){},"OAH/":function(e,t,r){e.exports=r.p+"images/beer.png"},QfWi:function(e,t,r){"use strict";r.r(t);r("lYjL"),r("IvQZ"),r("D/wG"),r("fp7Y"),r("JBxO"),r("FdtR"),r("4NM0"),r("wcNg"),r("vsnX"),r("hi3g");function n(e,t,r,n,a,i,s){try{var c=e[i](s),o=c.value}catch(e){return void r(e)}c.done?t(o):Promise.resolve(o).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function c(e){n(s,a,i,c,o,"next",e)}function o(e){n(s,a,i,c,o,"throw",e)}c(void 0)}))}}var i="https://api.punkapi.com/v2/",s={current_page:1,items_per_page:6,total_beers_num:325,abv:"",ibu:"",ebc:"",allBeers:[],addedToCartBeers:[],fetchBeers:function(){var e=this;return a(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i+"beers?page="+e.current_page+"&per_page="+e.items_per_page+e.abv+e.ibu+e.ebc);case 2:if(r=t.sent,""===e.abv&&""===e.ibu&&""===e.ebc){t.next=13;break}return t.next=6,fetch(i+"beers?"+e.abv+e.ibu+e.ebc+"&per_page=80");case 6:return n=t.sent,t.next=9,n.json();case 9:a=t.sent,e.total_beers_num=a.length,t.next=14;break;case 13:""===e.abv&&""===e.ibu&&""===e.ebc&&(e.total_beers_num=325);case 14:return t.next=16,r.json();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})))()},fetchAllBeers:function(){var e=this;return a(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=1;case 1:if(!(r<6)){t.next=12;break}return t.next=4,fetch(i+"beers?page="+r+"&per_page=80"+e.abv+e.ibu+e.ebc);case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,e.allBeers=[].concat(e.allBeers,a);case 9:r++,t.next=1;break;case 12:case"end":return t.stop()}}),t)})))()},addBeerToCart:function(e){var t=this;return a(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(i+"beers/"+e);case 2:return n=r.sent,r.next=5,n.json();case 5:a=r.sent,t.addedToCartBeers=[].concat(t.addedToCartBeers,a);case 7:case"end":return r.stop()}}),r)})))()},deleteBeerFromCart:function(e){this.addedToCartBeers=this.addedToCartBeers.filter((function(t){return t.id!==e}))},setCurrentPage:function(e){this.current_page=e},incrementPage:function(){var e=this.getPagesNumber();this.current_page===e?this.current_page=1:this.current_page+=1},decrementPage:function(){if(1===this.current_page){var e=this.getPagesNumber();this.current_page=e}else this.current_page-=1},resetPage:function(){this.current_page=1},getPagesNumber:function(){return Math.ceil(this.total_beers_num/this.items_per_page)},setAbvValue:function(e){this.abv=e},resetAbvValue:function(){this.abv=""},setIbuValue:function(e){this.ibu=e},resetIbuValue:function(){this.ibu=""},setEbcValue:function(e){this.ebc=e},resetEbcValue:function(){this.ebc=""}},c=(r("x3Br"),r("OAH/")),o=r.n(c),u=function(e){return e.reduce((function(e,t){var r=function(e){var t;(e.ibu<10||null===e.ibu)&&(t="Pale lager");e.ibu>9&&e.ibu<30&&(t="Blond ale");e.ibu>29&&e.ibu<50&&(t="Red ale");e.ibu>49&&e.ibu<100&&(t="Porter");e.ibu>99&&(t="Stout");return t}(t),n=function(e){var t;e.ebc>0&&e.ebc<8&&(t="Pale/blond");e.ebc>7&&e.ebc<20&&(t="Yellow/gold");e.ebc>19&&e.ebc<39&&(t="Amber/copper");e.ebc>38&&e.ebc<69&&(t="Dark coper/brown");e.ebc>68&&(t="Dark brown/black");return t}(t);return e+'\n    <li class="beer_item">\n      <img src="'+(t.image_url?t.image_url:o.a)+'" class="beer_item-img" alt="img">\n      <h3 class="beer_item-title">'+t.name+'</h3>\n      <p class="beer_item-tag">#'+t.tagline+"</p>\n      <table>\n        <tr>\n          <td>Alc/vol:</td>\n          <td>"+t.abv+"%</td>\n        </tr>\n        <tr>\n          <td>Bitterness lvl:</td>\n          <td>"+r+"</td>\n        </tr>\n        <tr>\n          <td>Beer color:</td>\n          <td>"+n+'</td>\n        </tr>\n      </table>\n      <div class="add-to-cart-wrapper">\n        <label for="'+t.id+'" class="add-to-cart">Add to cart\n          <input type="checkbox" name="addToCartInput" id="'+t.id+'">\n          <span class="checkmark"></span>\n        </label>\n      </div>\n    </li>\n    '}),"")};var l=function(){var e=document.createElement("div");return e.classList.add("no-product"),e.innerText="Sorry, we don't have any products matching your request.",e};function d(e,t,r,n,a,i,s){try{var c=e[i](s),o=c.value}catch(e){return void r(e)}c.done?t(o):Promise.resolve(o).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){d(i,n,a,s,c,"next",e)}function c(e){d(i,n,a,s,c,"throw",e)}s(void 0)}))}}var m={cart:document.querySelector(".cart"),overlay:document.getElementById("overlay-cart"),cartList:document.querySelector(".cart_list")};function p(){return(p=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target||"addToCartInput"!==t.target.name){e.next=9;break}if(!0!==t.target.checked){e.next=7;break}return e.next=4,s.addBeerToCart(Number(t.target.id));case 4:f(),e.next=9;break;case 7:s.deleteBeerFromCart(Number(t.target.id)),f();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){m.cartList.innerHTML="";var e=s.addedToCartBeers.reduce((function(e,t){return e+'\n    <li class="cart_list-item">\n      <div class="item-info">\n        <img src="'+(t.image_url?t.image_url:o.a)+'" alt="img">\n        <h3 class="beer_item-title">'+t.name+'</h3>\n      </div>\n      <svg id="delete" data-id="'+t.id+'" viewBox="0 0 24 24" fill-rule="evenodd" clip-rule="evenodd"><path data-id="'+t.id+'" id="delete" d="M19 24h-14c-1.104 0-2-.896-2-2v-17h-1v-2h6v-1.5c0-.827.673-1.5 1.5-1.5h5c.825 0 1.5.671 1.5 1.5v1.5h6v2h-1v17c0 1.104-.896 2-2 2zm0-19h-14v16.5c0 .276.224.5.5.5h13c.276 0 .5-.224.5-.5v-16.5zm-9 4c0-.552-.448-1-1-1s-1 .448-1 1v9c0 .552.448 1 1 1s1-.448 1-1v-9zm6 0c0-.552-.448-1-1-1s-1 .448-1 1v9c0 .552.448 1 1 1s1-.448 1-1v-9zm-2-7h-4v1h4v-1z"/></svg>\n    </li>\n    '}),"");m.cartList.insertAdjacentHTML("beforeend",e)}m.cart.addEventListener("click",(function(){m.overlay.classList.add("show-modal"),m.overlay.classList.remove("hide-modal"),0===s.addedToCartBeers.length&&(m.cartList.innerHTML="",m.cartList.insertAdjacentHTML("beforeend","<li>You haven't added any products yet.</li>"))})),m.overlay.addEventListener("click",(function(e){e.target!==e.currentTarget&&"close-modal"!==e.target.dataset.action||(m.overlay.classList.add("hide-modal"),m.overlay.classList.remove("show-modal"))})),document.addEventListener("click",(function(e){return p.apply(this,arguments)})),m.cartList.addEventListener("click",(function(e){if("delete"===e.target.id){var t=Number(e.target.dataset.id);s.deleteBeerFromCart(t),f(),document.getElementById(t).checked=!1,0===s.addedToCartBeers.length&&m.cartList.insertAdjacentHTML("beforeend","<li>You haven't added any products yet.</li>")}}));r("L1EO");function g(e,t,r,n,a,i,s){try{var c=e[i](s),o=c.value}catch(e){return void r(e)}c.done?t(o):Promise.resolve(o).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){g(i,n,a,s,c,"next",e)}function c(e){g(i,n,a,s,c,"throw",e)}s(void 0)}))}}var h=r("jffb"),L={sortForm:document.querySelector(".sort-form"),beersList:document.getElementById("beers_list"),paginationContainer:document.querySelector(".pagination"),paginationList:document.getElementById("pagination-list"),noProductWrapper:document.querySelector(".no-product-wrapper"),searchInput:document.querySelector(".search-input")};function x(){return(x=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=b(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchBeers();case 2:0!==(t=e.sent).length?(k(u(t)),L.noProductWrapper.innerHTML=""):(L.noProductWrapper.innerHTML="",L.beersList.innerHTML="",r=l(),L.noProductWrapper.append(r),L.paginationContainer.removeEventListener("click",P)),_();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){L.beersList.innerHTML="",L.beersList.insertAdjacentHTML("beforeend",e)}function E(){return(E=b(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.elements.ibu,n=t.currentTarget.elements.abv,a=t.currentTarget.elements.ebc,!(r.value||n.value||a.value)){e.next=10;break}return s.setIbuValue(r.value),s.setAbvValue(n.value),s.setEbcValue(a.value),s.resetPage(),e.next=10,y();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.id){e.next=2;break}return e.abrupt("return");case 2:if("abv-reset"!==t.target.id){e.next=9;break}return s.resetAbvValue(),L.sortForm.elements.abv.value="",e.next=7,y();case 7:e.next=21;break;case 9:if("ibu-reset"!==t.target.id){e.next=16;break}return s.resetIbuValue(),L.sortForm.elements.ibu.value="",e.next=14,y();case 14:e.next=21;break;case 16:if("ebc-reset"!==t.target.id){e.next=21;break}return s.resetEbcValue(),L.sortForm.elements.ebc.value="",e.next=21,y();case 21:s.resetPage(),_();case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){L.paginationList.innerHTML="";var e=s.getPagesNumber();if(0!==e){for(var t=1;t<e+1;t++){var r=(n=t,a=void 0,(a=document.createElement("button")).classList.add("page-btn"),a.innerText=n,Number(a.innerText)===s.current_page&&a.classList.add("active"),a);L.paginationList.append(r)}var n,a;L.paginationContainer.addEventListener("click",P)}}function T(){return(T=b(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target!==t.currentTarget){e.next=2;break}return e.abrupt("return");case 2:return r=Number(t.target.innerHTML),s.setCurrentPage(r),e.next=6,y();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return R.apply(this,arguments)}function R(){return(R=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("left"!==t.target.dataset.arrow){e.next=4;break}return s.decrementPage(),e.next=4,y();case 4:if("right"!==t.target.dataset.arrow){e.next=8;break}return s.incrementPage(),e.next=8,y();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("DOMContentLoaded",(function(){return x.apply(this,arguments)})),L.sortForm.addEventListener("change",(function(e){return E.apply(this,arguments)})),L.sortForm.addEventListener("click",(function(e){return B.apply(this,arguments)})),L.paginationList.addEventListener("click",(function(e){return T.apply(this,arguments)})),b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.fetchAllBeers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))();var C=h(function(){var e=b(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.target.value){e.next=8;break}r=s.allBeers.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())})),k(u(r)),L.paginationList.innerHTML="",L.paginationContainer.removeEventListener("click",P),e.next=10;break;case 8:return e.next=10,y();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3);L.searchInput.addEventListener("input",C)},vsnX:function(e,t){var r={loginBtn:document.querySelector(".login-link"),overlay:document.getElementById("overlay-register"),registerForm:document.querySelector(".register-form"),registerBtn:document.querySelector(".register-btn")},n=r.registerForm.elements.firstName,a=r.registerForm.elements.lastName,i=r.registerForm.elements.email,s=r.registerForm.elements.password,c=r.registerForm.elements.birthdate;function o(){r.overlay.classList.add("show-modal"),r.overlay.classList.remove("hide-modal"),n.addEventListener("blur",d),a.addEventListener("blur",v),i.addEventListener("blur",m),s.addEventListener("blur",p),c.addEventListener("blur",f)}function u(e){e.target!==e.currentTarget&&"close-modal"!==e.target.dataset.action||l()}function l(){r.overlay.classList.add("hide-modal"),r.overlay.classList.remove("show-modal")}function d(){/^[a-zA-z]{2,10}$/.test(n.value)?b():g("First name should be from 2 to 10 characters long",a)}function v(){/^[a-zA-z]{2,10}$/.test(a.value)?b():g("Last name should be from 2 to 10 characters long",i)}function m(){/^(.+)@(.+){2,}\.(.+){2,}$/.test(i.value)?b():g("This is not a valid email",s)}function p(){/^.{6,}$/.test(s.value)?b():g("Password must contain at least 6 characters",c)}function f(){""===c.value?g("This field is required",r.registerBtn):b()}function g(e,t){b();var n=document.createElement("div");n.classList.add("error-message"),n.innerText=e,r.registerForm.insertBefore(n,t)}function b(){document.querySelector(".error-message")&&document.querySelector(".error-message").remove()}function h(e){e.preventDefault(),""!==n.value&&""!==a.value&&""!==i.value&&""!==s.value&&""!==c.value&&(l(),r.loginBtn.innerText="Hi, "+n.value+"!",r.loginBtn.classList.add("login-inactive"),n.removeEventListener("blur",d),a.removeEventListener("blur",v),i.removeEventListener("blur",m),s.removeEventListener("blur",p),c.removeEventListener("blur",f),r.loginBtn.removeEventListener("click",o),r.overlay.removeEventListener("click",u),r.registerForm.removeEventListener("submit",h),n.value="",a.value="",i.value="",s.value="",c.value="")}r.loginBtn.addEventListener("click",o),r.overlay.addEventListener("click",u),r.registerForm.addEventListener("submit",h)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.ce8ea754e83a190ad6b5.js.map