{"version":3,"sources":["webpack:///./images/beer.png","webpack:///./services/beerServices.js","webpack:///./services/markupCreators.js","webpack:///./services/cart.js","webpack:///./index.js","webpack:///./services/register.js"],"names":["module","exports","baseUrl","current_page","items_per_page","total_beers_num","abv","ibu","ebc","allBeers","addedToCartBeers","fetchBeers","fetch","response","json","result","length","fetchAllBeers","i","addBeerToCart","id","deleteBeerFromCart","this","filter","beer","setCurrentPage","page","incrementPage","lastPage","getPagesNumber","decrementPage","Math","ceil","setAbvValue","value","setIbuValue","setEbcValue","createBeerCard","arr","reduce","acc","beerIbu","convertBeerIbuToWords","beerEbc","convertBeerEbcToWords","image_url","beerImage","name","tagline","createNoProductDiv","textDiv","document","createElement","classList","add","innerText","refs","cart","querySelector","overlay","getElementById","cartList","e","target","checked","beerServices","Number","updateCartList","innerHTML","markup","insertAdjacentHTML","addEventListener","remove","currentTarget","dataset","action","debounce","require","sortForm","beersList","paginationContainer","paginationList","noProductWrapper","searchInput","displayBeers","beers","insertToDom","noProductDiv","append","removeEventListener","handleArrowClick","setUpPagination","ibuValue","elements","abvValue","ebcValue","pagesNumber","btn","button","clickedPageNumber","arrow","window","delay","filteredBeers","item","toLowerCase","includes","loginBtn","registerForm","registerBtn","firstName","lastName","email","password","birthdate","openModal","firstNameHandler","lastNameHandler","emailHandler","passwordHandler","birthdateHandler","handleCloseModalClick","closeModal","test","removeErrorMessage","createErrorMessage","message","elementToInsertBefore","div","insertBefore","handleSubmit","preventDefault"],"mappings":"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","file":"main.e5892f68deac233eb04d.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/beer.png\";","const baseUrl = 'https://api.punkapi.com/v2/';\r\n\r\nexport default {\r\n  current_page: 1,\r\n  items_per_page: 6,\r\n  total_beers_num: 325,\r\n  abv: '',\r\n  ibu: '',\r\n  ebc: '',\r\n  allBeers: [],\r\n  addedToCartBeers: [],\r\n\r\n  async fetchBeers() {\r\n    const response = await fetch(\r\n      `${baseUrl}beers?page=${this.current_page}&per_page=${this.items_per_page}${this.abv}${this.ibu}${this.ebc}`,\r\n    );\r\n    if (this.abv !== '' || this.ibu !== '' || this.ebc !== '') {\r\n      const response = await fetch(\r\n        `${baseUrl}beers?${this.abv}${this.ibu}${this.ebc}`,\r\n      );\r\n      const result = await response.json();\r\n      this.total_beers_num = result.length;\r\n    }\r\n    return await response.json();\r\n  },\r\n\r\n  async fetchAllBeers() {\r\n    for (let i = 1; i < 6; i++) {\r\n      const response = await fetch(\r\n        `${baseUrl}beers?page=${i}&per_page=80${this.abv}${this.ibu}${this.ebc}`,\r\n      );\r\n      const result = await response.json();\r\n      this.allBeers = [...this.allBeers, ...result];\r\n    }\r\n  },\r\n\r\n  async addBeerToCart(id) {\r\n    const response = await fetch(`${baseUrl}beers/${id}`);\r\n    const result = await response.json();\r\n    this.addedToCartBeers = [...this.addedToCartBeers, ...result];\r\n  },\r\n\r\n  deleteBeerFromCart(id) {\r\n    this.addedToCartBeers = this.addedToCartBeers.filter(\r\n      beer => beer.id !== id,\r\n    );\r\n  },\r\n\r\n  setCurrentPage(page) {\r\n    this.current_page = page;\r\n  },\r\n\r\n  incrementPage() {\r\n    const lastPage = this.getPagesNumber();\r\n    if (this.current_page === lastPage) {\r\n      this.current_page = 1;\r\n    } else {\r\n      this.current_page += 1;\r\n    }\r\n  },\r\n\r\n  decrementPage() {\r\n    if (this.current_page === 1) {\r\n      const lastPage = this.getPagesNumber();\r\n      this.current_page = lastPage;\r\n    } else {\r\n      this.current_page -= 1;\r\n    }\r\n  },\r\n\r\n  getPagesNumber() {\r\n    return Math.ceil(this.total_beers_num / this.items_per_page);\r\n  },\r\n\r\n  setAbvValue(value) {\r\n    this.abv = value;\r\n  },\r\n\r\n  setIbuValue(value) {\r\n    this.ibu = value;\r\n  },\r\n\r\n  setEbcValue(value) {\r\n    this.ebc = value;\r\n  },\r\n};\r\n","import beerServices from './beerServices';\r\nimport beerImage from '../images/beer.png';\r\n\r\nexport const createBeerCard = arr => {\r\n  const markup = arr.reduce((acc, value) => {\r\n    const beerIbu = convertBeerIbuToWords(value);\r\n    const beerEbc = convertBeerEbcToWords(value);\r\n    let beerImg;\r\n    if (value.image_url) {\r\n      beerImg = value.image_url;\r\n    } else {\r\n      beerImg = beerImage;\r\n    }\r\n    return (acc += `\r\n    <li class=\"beer_item\">\r\n      <img src=\"${beerImg}\" class=\"beer_item-img\" alt=\"img\">\r\n      <h3 class=\"beer_item-title\">${value.name}</h3>\r\n      <p class=\"beer_item-tag\">#${value.tagline}</p>\r\n      <table>\r\n        <tr>\r\n          <td>Alc/vol:</td>\r\n          <td>${value.abv}%</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Bitterness lvl:</td>\r\n          <td>${beerIbu}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Beer color:</td>\r\n          <td>${beerEbc}</td>\r\n        </tr>\r\n      </table>\r\n      <div class=\"add-to-cart-wrapper\">\r\n        <label for=\"${value.id}\" class=\"add-to-cart\">Add to cart\r\n          <input type=\"checkbox\" name=\"addToCartInput\" id=\"${value.id}\">\r\n          <span class=\"checkmark\"></span>\r\n        </label>\r\n      </div>\r\n    </li>\r\n    `);\r\n  }, '');\r\n  return markup;\r\n};\r\n\r\nfunction convertBeerIbuToWords(beer) {\r\n  let beerIbu;\r\n  if (beer.ibu < 10 || beer.ibu === null) beerIbu = 'Pale lager';\r\n  if (beer.ibu > 9 && beer.ibu < 30) beerIbu = 'Blond ale';\r\n  if (beer.ibu > 29 && beer.ibu < 50) beerIbu = 'Red ale';\r\n  if (beer.ibu > 49 && beer.ibu < 100) beerIbu = 'Porter';\r\n  if (beer.ibu > 99) beerIbu = 'Stout';\r\n  return beerIbu;\r\n}\r\n\r\nfunction convertBeerEbcToWords(beer) {\r\n  let beerEbc;\r\n  if (beer.ebc > 0 && beer.ebc < 8) beerEbc = 'Pale/blond';\r\n  if (beer.ebc > 7 && beer.ebc < 20) beerEbc = 'Yellow/gold';\r\n  if (beer.ebc > 19 && beer.ebc < 39) beerEbc = 'Amber/copper';\r\n  if (beer.ebc > 38 && beer.ebc < 69) beerEbc = 'Dark coper/brown';\r\n  if (beer.ebc > 68) beerEbc = 'Dark brown/black';\r\n  return beerEbc;\r\n}\r\n\r\nexport const createPageButtonMarkup = page => {\r\n  const button = document.createElement('button');\r\n  button.classList.add('page-btn');\r\n  button.innerText = page;\r\n  if (Number(button.innerText) === beerServices.current_page) {\r\n    button.classList.add('active');\r\n  }\r\n  return button;\r\n};\r\n\r\nexport const createNoProductDiv = () => {\r\n  const textDiv = document.createElement('div');\r\n  textDiv.classList.add('no-product');\r\n  textDiv.innerText =\r\n    \"Sorry, we don't have any products matching your request.\";\r\n  return textDiv;\r\n};\r\n\r\nexport const createCartBeerItem = arr => {\r\n  const markup = arr.reduce((acc, value) => {\r\n    let beerImg;\r\n    if (value.image_url) {\r\n      beerImg = value.image_url;\r\n    } else {\r\n      beerImg = beerImage;\r\n    }\r\n    return (acc += `\r\n    <li class=\"cart_list-item\">\r\n      <div class=\"item-info\">\r\n        <img src=\"${beerImg}\" alt=\"img\">\r\n        <h3 class=\"beer_item-title\">${value.name}</h3>\r\n      </div>\r\n      <svg id=\"delete\" data-id=\"${value.id}\" viewBox=\"0 0 24 24\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path data-id=\"${value.id}\" id=\"delete\" d=\"M19 24h-14c-1.104 0-2-.896-2-2v-17h-1v-2h6v-1.5c0-.827.673-1.5 1.5-1.5h5c.825 0 1.5.671 1.5 1.5v1.5h6v2h-1v17c0 1.104-.896 2-2 2zm0-19h-14v16.5c0 .276.224.5.5.5h13c.276 0 .5-.224.5-.5v-16.5zm-9 4c0-.552-.448-1-1-1s-1 .448-1 1v9c0 .552.448 1 1 1s1-.448 1-1v-9zm6 0c0-.552-.448-1-1-1s-1 .448-1 1v9c0 .552.448 1 1 1s1-.448 1-1v-9zm-2-7h-4v1h4v-1z\"/></svg>\r\n    </li>\r\n    `);\r\n  }, '');\r\n  return markup;\r\n};\r\n","import beerServices from './beerServices';\r\nimport { createCartBeerItem } from './markupCreators';\r\n\r\nconst refs = {\r\n  cart: document.querySelector('.cart'),\r\n  overlay: document.getElementById('overlay-cart'),\r\n  cartList: document.querySelector('.cart_list'),\r\n};\r\n\r\nrefs.cart.addEventListener('click', openModal);\r\nrefs.overlay.addEventListener('click', closeModal);\r\ndocument.addEventListener('click', handleAddToCartClick);\r\nrefs.cartList.addEventListener('click', deleteBeerFromCart);\r\n\r\nfunction openModal() {\r\n  refs.overlay.classList.add('show-modal');\r\n  refs.overlay.classList.remove('hide-modal');\r\n  if (beerServices.addedToCartBeers.length === 0) {\r\n    refs.cartList.innerHTML = '';\r\n    refs.cartList.insertAdjacentHTML(\r\n      'beforeend',\r\n      \"<li>You haven't added any products yet.</li>\",\r\n    );\r\n  }\r\n}\r\n\r\nfunction closeModal(e) {\r\n  if (\r\n    e.target === e.currentTarget ||\r\n    e.target.dataset.action === 'close-modal'\r\n  ) {\r\n    refs.overlay.classList.add('hide-modal');\r\n    refs.overlay.classList.remove('show-modal');\r\n  }\r\n}\r\n\r\nasync function handleAddToCartClick(e) {\r\n  if (e.target && e.target.name === 'addToCartInput') {\r\n    if (e.target.checked === true) {\r\n      await beerServices.addBeerToCart(Number(e.target.id));\r\n      updateCartList();\r\n    } else {\r\n      beerServices.deleteBeerFromCart(Number(e.target.id));\r\n      updateCartList();\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateCartList() {\r\n  refs.cartList.innerHTML = '';\r\n  const markup = createCartBeerItem(beerServices.addedToCartBeers);\r\n  refs.cartList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction deleteBeerFromCart(e) {\r\n  if (e.target.id === 'delete') {\r\n    const id = Number(e.target.dataset.id);\r\n    beerServices.deleteBeerFromCart(id);\r\n    updateCartList();\r\n    const deletedBeerInput = document.getElementById(id);\r\n    deletedBeerInput.checked = false;\r\n\r\n    if (beerServices.addedToCartBeers.length === 0) {\r\n      refs.cartList.insertAdjacentHTML(\r\n        'beforeend',\r\n        \"<li>You haven't added any products yet.</li>\",\r\n      );\r\n    }\r\n  }\r\n}","'use strict';\r\n\r\nimport './services/register';\r\nimport './services/cart';\r\nimport beerServices from './services/beerServices';\r\nimport {\r\n  createBeerCard,\r\n  createPageButtonMarkup,\r\n  createNoProductDiv,\r\n} from './services/markupCreators';\r\nconst debounce = require('lodash.debounce');\r\nimport './styles.css';\r\n\r\nconst refs = {\r\n  sortForm: document.querySelector('.sort-form'),\r\n  beersList: document.getElementById('beers_list'),\r\n  paginationContainer: document.querySelector('.pagination'),\r\n  paginationList: document.getElementById('pagination-list'),\r\n  noProductWrapper: document.querySelector('.no-product-wrapper'),\r\n  searchInput: document.querySelector('.search-input')\r\n};\r\n\r\nwindow.addEventListener('DOMContentLoaded', loadStartPage);\r\nrefs.sortForm.addEventListener('change', handleSelect);\r\nrefs.paginationList.addEventListener('click', displaySelectedPage);\r\n\r\nasync function loadStartPage() {\r\n  await displayBeers();\r\n}\r\n\r\nasync function displayBeers() {\r\n  const beers = await beerServices.fetchBeers();\r\n  if (beers.length !== 0) {\r\n    const markup = createBeerCard(beers);\r\n    insertToDom(markup);\r\n    refs.noProductWrapper.innerHTML = '';\r\n  } else {\r\n    refs.noProductWrapper.innerHTML = '';\r\n    refs.beersList.innerHTML = '';\r\n    const noProductDiv = createNoProductDiv();\r\n    refs.noProductWrapper.append(noProductDiv);\r\n    refs.paginationContainer.removeEventListener('click', handleArrowClick);\r\n  }\r\n  setUpPagination();\r\n}\r\n\r\nfunction insertToDom(markup) {\r\n  refs.beersList.innerHTML = '';\r\n  refs.beersList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nasync function handleSelect(e) {\r\n  const ibuValue = e.currentTarget.elements.ibu.value;\r\n  const abvValue = e.currentTarget.elements.abv.value;\r\n  const ebcValue = e.currentTarget.elements.ebc.value;\r\n  if (ibuValue || abvValue || ebcValue) {\r\n    beerServices.setIbuValue(ibuValue);\r\n    beerServices.setAbvValue(abvValue);\r\n    beerServices.setEbcValue(ebcValue);\r\n    await displayBeers();\r\n  }\r\n}\r\n\r\nfunction setUpPagination() {\r\n  refs.paginationList.innerHTML = '';\r\n  const pagesNumber = beerServices.getPagesNumber();\r\n  if (pagesNumber === 0) return;\r\n  for (let i = 1; i < pagesNumber + 1; i++) {\r\n    const btn = createPageButtonMarkup(i);\r\n    refs.paginationList.append(btn);\r\n  }\r\n  refs.paginationContainer.addEventListener('click', handleArrowClick);\r\n}\r\n\r\nasync function displaySelectedPage(e) {\r\n  if (e.target === e.currentTarget) return;\r\n  const clickedPageNumber = Number(e.target.innerHTML);\r\n  beerServices.setCurrentPage(clickedPageNumber);\r\n  await displayBeers();\r\n}\r\n\r\nasync function handleArrowClick(e) {\r\n  if (e.target.dataset.arrow === 'left') {\r\n    beerServices.decrementPage();\r\n    await displayBeers();\r\n  }\r\n  if (e.target.dataset.arrow === 'right') {\r\n    beerServices.incrementPage();\r\n    await displayBeers();\r\n  }\r\n}\r\n\r\n// ---------- Search ----------\r\n\r\n(async () => await beerServices.fetchAllBeers())();\r\n\r\nconst delay = debounce(async function handleSearchInputChange(e) {\r\n  if (e.target.value !== '') {\r\n    const filteredBeers = beerServices.allBeers.filter(item =>\r\n      item.name.toLowerCase().includes(e.target.value.toLowerCase()),\r\n    );\r\n    const markup = createBeerCard(filteredBeers);\r\n    insertToDom(markup);\r\n    refs.paginationList.innerHTML = '';\r\n    refs.paginationContainer.removeEventListener('click', handleArrowClick);\r\n  } else await displayBeers();\r\n}, 1000);\r\n\r\nrefs.searchInput.addEventListener('input', delay);","const refs = {\r\n  loginBtn: document.querySelector('.login-link'),\r\n  overlay: document.getElementById('overlay-register'),\r\n  registerForm: document.querySelector('.register-form'),\r\n  registerBtn: document.querySelector('.register-btn'),\r\n};\r\n\r\n// inputs\r\nconst firstName = refs.registerForm.elements.firstName;\r\nconst lastName = refs.registerForm.elements.lastName;\r\nconst email = refs.registerForm.elements.email;\r\nconst password = refs.registerForm.elements.password;\r\nconst birthdate = refs.registerForm.elements.birthdate;\r\n\r\nrefs.loginBtn.addEventListener('click', openModal);\r\nrefs.overlay.addEventListener('click', handleCloseModalClick);\r\nrefs.registerForm.addEventListener('submit', handleSubmit);\r\n\r\nfunction openModal() {\r\n  refs.overlay.classList.add('show-modal');\r\n  refs.overlay.classList.remove('hide-modal');\r\n  checkInputs();\r\n}\r\n\r\nfunction handleCloseModalClick(e) {\r\n  if (\r\n    e.target === e.currentTarget ||\r\n    e.target.dataset.action === 'close-modal'\r\n  ) {\r\n    closeModal();\r\n  }\r\n}\r\n\r\nfunction closeModal() {\r\n  refs.overlay.classList.add('hide-modal');\r\n  refs.overlay.classList.remove('show-modal');\r\n}\r\n\r\nfunction checkInputs() {\r\n  firstName.addEventListener('blur', firstNameHandler);\r\n  lastName.addEventListener('blur', lastNameHandler);\r\n  email.addEventListener('blur', emailHandler);\r\n  password.addEventListener('blur', passwordHandler);\r\n  birthdate.addEventListener('blur', birthdateHandler);\r\n}\r\n\r\nfunction firstNameHandler() {\r\n  const re = /^[a-zA-z]{2,10}$/;\r\n  if (!re.test(firstName.value)) {\r\n    createErrorMessage(\r\n      'First name should be from 2 to 10 characters long',\r\n      lastName,\r\n    );\r\n  } else removeErrorMessage();\r\n}\r\n\r\nfunction lastNameHandler() {\r\n  const re = /^[a-zA-z]{2,10}$/;\r\n  if (!re.test(lastName.value)) {\r\n    createErrorMessage(\r\n      'Last name should be from 2 to 10 characters long',\r\n      email,\r\n    );\r\n  } else removeErrorMessage();\r\n}\r\n\r\nfunction emailHandler() {\r\n  const re = /^(.+)@(.+){2,}\\.(.+){2,}$/;\r\n  if (!re.test(email.value)) {\r\n    createErrorMessage('This is not a valid email', password);\r\n  } else removeErrorMessage();\r\n}\r\n\r\nfunction passwordHandler() {\r\n  const re = /^.{6,}$/;\r\n  if (!re.test(password.value)) {\r\n    createErrorMessage(\r\n      'Password must contain at least 6 characters',\r\n      birthdate,\r\n    );\r\n  } else removeErrorMessage();\r\n}\r\n\r\nfunction birthdateHandler() {\r\n  if (birthdate.value === '') {\r\n    createErrorMessage('This field is required', refs.registerBtn);\r\n  } else removeErrorMessage();\r\n}\r\n\r\nfunction createErrorMessage(message, elementToInsertBefore) {\r\n  removeErrorMessage();\r\n  const div = document.createElement('div');\r\n  div.classList.add('error-message');\r\n  div.innerText = message;\r\n  refs.registerForm.insertBefore(div, elementToInsertBefore);\r\n}\r\n\r\nfunction removeErrorMessage() {\r\n  if (document.querySelector('.error-message')) {\r\n    document.querySelector('.error-message').remove();\r\n  }\r\n}\r\n\r\nfunction handleSubmit(e) {\r\n  e.preventDefault();\r\n  if (\r\n    firstName.value === '' ||\r\n    lastName.value === '' ||\r\n    email.value === '' ||\r\n    password.value === '' ||\r\n    birthdate.value === ''\r\n  ) {\r\n    return;\r\n  } else {\r\n    closeModal();\r\n    refs.loginBtn.innerText = `Hi, ${firstName.value}!`;\r\n    refs.loginBtn.classList.add('login-inactive');\r\n\r\n    clearEventListeners();\r\n    // and clear form inputs\r\n    firstName.value = '';\r\n    lastName.value = '';\r\n    email.value = '';\r\n    password.value = '';\r\n    birthdate.value = '';\r\n  }\r\n}\r\n\r\nfunction clearEventListeners() {\r\n  firstName.removeEventListener('blur', firstNameHandler);\r\n  lastName.removeEventListener('blur', lastNameHandler);\r\n  email.removeEventListener('blur', emailHandler);\r\n  password.removeEventListener('blur', passwordHandler);\r\n  birthdate.removeEventListener('blur', birthdateHandler);\r\n  refs.loginBtn.removeEventListener('click', openModal);\r\n  refs.overlay.removeEventListener('click', handleCloseModalClick);\r\n  refs.registerForm.removeEventListener('submit', handleSubmit);\r\n}\r\n"],"sourceRoot":""}